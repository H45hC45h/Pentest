#!/bin/bash
# @author       H45hC45h
# @version      0.0.1
# @link         https://github.com/H45hC45h/Pentest
# @description  Script de préparation machine Linux Pentest - Mise à jour du système, installation des paquets et scripts de configuration

# Vérifie si le répertoire temporaire existe
if [ ! -d ~/temp ]; then
    mkdir ~/temp
fi
cd ~/temp

# Fonction pour afficher un message en vert sur fond rouge
function message {
    echo -e "\e[1;31m$1\e[0m"
}
message "Téléchargement des scripts de préparation"
curl -s https://raw.githubusercontent.com/H45hC45h/Pentest/master/00_Setup/Linux/PrepInsta.txt -o PrepaInsta.txt
message "Exécution des scripts de préparation"
for script in $(cat PrepaInsta.txt); do message $script && curl -s https://raw.githubusercontent.com/H45hC45h/Pentest/master/00_Setup/Linux/$script | bash; done


message "Nettoyage de l'historique"
history -c